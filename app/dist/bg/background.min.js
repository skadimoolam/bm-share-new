!function(e,t){function i(e,t){n.push({name:t.title,url:t.url,addedBy:a.user})}function o(t){console.log(t);var i=t.val().name,o=t.val().addedBy||"",n=(t.val().url||"",{type:"basic",title:"New Bookmark Added",message:i+" - "+o,iconUrl:a.iconUrl,isClickable:!0});e.notifications.create("bm-share-notification",n),e.notifications.clear("bm-share-notification")}var a={popupId:void 0,htmlPage:"./app/dist/index.min.html",width:800,height:500,address:"undefined"===localStorage.getItem("bm-address")?"office":localStorage.getItem("bm-address"),user:"undefined"===localStorage.getItem("bm-user")?"Default":localStorage.getItem("bm-user"),iconUrl:"../../icon.png"};a.firebaseUrl="https://bm-share.firebaseio.com/bm-share/"+a.address,e.browserAction.onClicked.addListener(function(t){"undefined"==typeof a.popupId?e.windows.create({url:a.htmlPage,type:"panel",width:a.width,height:a.height},function(e){a.popupId=e.id}):e.windows.update(a.popupId,{focused:!0})}),e.windows.onRemoved.addListener(function(e){a.popupId=void 0});var n=new t(a.firebaseUrl);n.limitToLast(1).on("child_added",function(e){console.log(e),o(e)}),e.contextMenus.create({title:"Share this Page",contexts:["all"],onclick:i})}(chrome,Firebase);